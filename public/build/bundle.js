var app=function(){"use strict";function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function r(e){return e()}function i(){return Object.create(null)}function s(e){e.forEach(r)}function a(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function l(e,t){const n=e.subscribe(t);return n.unsubscribe?()=>n.unsubscribe():n}function c(e){let t;return l(e,e=>t=e)(),t}function u(e,t,n){e.$$.on_destroy.push(l(t,n))}function d(e,t,r){return e[1]?n({},n(t.$$scope.ctx,e[1](r?r(t):{}))):t.$$scope.ctx}function h(e){return null==e?"":e}const p="undefined"!=typeof window;let f=p?()=>window.performance.now():()=>Date.now(),g=p?e=>requestAnimationFrame(e):e;const m=new Set;let v,x=!1;function y(){m.forEach(e=>{e[0](f())||(m.delete(e),e[1]())}),x=m.size>0,x&&g(y)}function b(e,t){e.appendChild(t)}function $(e,t,n){e.insertBefore(t,n||null)}function w(e){e.parentNode.removeChild(e)}function _(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function k(e){return document.createElement(e)}function A(e){return document.createTextNode(e)}function T(){return A(" ")}function z(){return A("")}function S(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function E(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function P(e,t){t=""+t,e.data!==t&&(e.data=t)}function O(e,t,n){e.style.setProperty(t,n)}function L(e,t,n){e.classList[n?"add":"remove"](t)}function M(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}let I,D=0,R={};function C(e,t,n,r,i,s,a,o=0){const l=16.666/r;let c="{\n";for(let e=0;e<=1;e+=l){const r=t+(n-t)*s(e);c+=100*e+`%{${a(r,1-r)}}\n`}const u=c+`100% {${a(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${o}`;if(!R[d]){if(!v){const e=k("style");document.head.appendChild(e),v=e.sheet}R[d]=!0,v.insertRule(`@keyframes ${d} ${u}`,v.cssRules.length)}const h=e.style.animation||"";return e.style.animation=`${h?`${h}, `:""}${d} ${r}ms linear ${i}ms 1 both`,D+=1,d}function W(e,t){e.style.animation=(e.style.animation||"").split(", ").filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")).join(", "),t&&!--D&&g(()=>{if(D)return;let e=v.cssRules.length;for(;e--;)v.deleteRule(e);R={}})}function N(e){I=e}function H(){if(!I)throw new Error("Function called outside component initialization");return I}function q(e){H().$$.before_update.push(e)}function F(e){H().$$.on_mount.push(e)}function j(){const e=I;return(t,n)=>{const r=e.$$.callbacks[t];if(r){const i=M(t,n);r.slice().forEach(t=>{t.call(e,i)})}}}const U=[],Z=[],B=[],Y=[],G=Promise.resolve();let X,V=!1;function K(e){B.push(e)}function J(){const e=new Set;do{for(;U.length;){const e=U.shift();N(e),Q(e.$$)}for(;Z.length;)Z.pop()();for(let t=0;t<B.length;t+=1){const n=B[t];e.has(n)||(n(),e.add(n))}B.length=0}while(U.length);for(;Y.length;)Y.pop()();V=!1}function Q(e){e.fragment&&(e.update(e.dirty),s(e.before_update),e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_update.forEach(K))}function ee(e,t,n){e.dispatchEvent(M(`${t?"intro":"outro"}${n}`))}const te=new Set;let ne;function re(){ne={r:0,c:[],p:ne}}function ie(){ne.r||s(ne.c),ne=ne.p}function se(e,t){e&&e.i&&(te.delete(e),e.i(t))}function ae(e,t,n,r){if(e&&e.o){if(te.has(e))return;te.add(e),ne.c.push(()=>{te.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}}const oe={duration:0};function le(n,r,i,o){let l=r(n,i),c=o?0:1,u=null,d=null,h=null;function p(){h&&W(n,h)}function v(e,t){const n=e.b-c;return t*=Math.abs(n),{a:c,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function b(r){const{delay:i=0,duration:a=300,easing:o=t,tick:b=e,css:$}=l||oe,w={start:f()+i,b:r};r||(w.group=ne,ne.r+=1),u?d=w:($&&(p(),h=C(n,c,r,a,i,o,$)),r&&b(0,1),u=v(w,a),K(()=>ee(n,r,"start")),function(e){let t;x||(x=!0,g(y)),new Promise(n=>{m.add(t=[e,n])})}(e=>{if(d&&e>d.start&&(u=v(d,a),d=null,ee(n,u.b,"start"),$&&(p(),h=C(n,c,u.b,u.duration,0,o,l.css))),u)if(e>=u.end)b(c=u.b,1-c),ee(n,u.b,"end"),d||(u.b?p():--u.group.r||s(u.group.c)),u=null;else if(e>=u.start){const t=e-u.start;c=u.a+u.d*o(t/u.duration),b(c,1-c)}return!(!u&&!d)}))}return{run(e){a(l)?(X||(X=Promise.resolve(),X.then(()=>{X=null})),X).then(()=>{l=l(),b(e)}):b(e)},end(){p(),u=d=null}}}const ce="undefined"!=typeof window?window:global;function ue(e,t){ae(e,1,1,()=>{t.delete(e.key)})}function de(e,t,n){const{fragment:i,on_mount:o,on_destroy:l,after_update:c}=e.$$;i.m(t,n),K(()=>{const t=o.map(r).filter(a);l?l.push(...t):s(t),e.$$.on_mount=[]}),c.forEach(K)}function he(e,t){e.$$.fragment&&(s(e.$$.on_destroy),e.$$.fragment.d(t),e.$$.on_destroy=e.$$.fragment=null,e.$$.ctx={})}function pe(e,t){e.$$.dirty||(U.push(e),V||(V=!0,G.then(J)),e.$$.dirty=i()),e.$$.dirty[t]=!0}function fe(t,n,r,a,o,l){const c=I;N(t);const u=n.props||{},d=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:o,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:i(),dirty:null};let h=!1;d.ctx=r?r(t,u,(e,n)=>{d.ctx&&o(d.ctx[e],d.ctx[e]=n)&&(d.bound[e]&&d.bound[e](n),h&&pe(t,e))}):u,d.update(),h=!0,s(d.before_update),d.fragment=a(d.ctx),n.target&&(n.hydrate?d.fragment.l(function(e){return Array.from(e.childNodes)}(n.target)):d.fragment.c(),n.intro&&se(t.$$.fragment),de(t,n.target,n.anchor),J()),N(c)}class ge{$destroy(){he(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}const me=[];function ve(t,n=e){let r;const i=[];function s(e){if(o(t,e)&&(t=e,r)){const e=!me.length;for(let e=0;e<i.length;e+=1){const n=i[e];n[1](),me.push(n,t)}if(e){for(let e=0;e<me.length;e+=2)me[e][0](me[e+1]);me.length=0}}}return{set:s,update:function(e){s(e(t))},subscribe:function(a,o=e){const l=[a,o];return i.push(l),1===i.length&&(r=n(s)||e),a(t),()=>{const e=i.indexOf(l);-1!==e&&i.splice(e,1),0===i.length&&(r(),r=null)}}}}const xe=[];let ye=ve(2);const be=e=>ye.update(()=>e),$e=()=>xe[c(ye)],we=e=>$e().widgets.get(e),_e=(e="")=>{try{const t={_title:ve(e),widgets:new Map,_widgetsCount:ve(0)};xe.push(t),be(xe.length-1)}catch(e){}},ke=(e,t="",n="",r={0:{w:8,h:5,x:1/0,y:0}})=>{try{const i={type:e,sizeAndPos:r,_title:ve(t),_data:ve(n)};$e().widgets.set(Symbol(),i),$e()._widgetsCount.update(e=>e+1)}catch(e){}},Ae=e=>{try{xe.splice(e,1)}catch(e){}};function Te(t){var n,r;return{c(){(n=k("button")).innerHTML='<img src="/images/arrowRightIcon.svg" alt="prev">',E(n,"class","svelte-1l6716q"),r=S(n,"click",t.left)},m(e,t){$(e,n,t)},p:e,i:e,o:e,d(e){e&&w(n),r()}}}function ze(e){const t=j();return{left:()=>{t("left")}}}_e("one"),_e("two"),_e("three"),_e("four"),_e("five"),ke("Sticky","Welcome","This is currently only a prototype. The concept is a personal dash space for organising activities. At the moment functionality is limited.",{24:{w:8,h:5,x:0,y:0}}),ke("Sticky","Widgets","These are the building block. Each has an editiable title. You can resize and drag and drop them.",{24:{w:8,h:6,x:8,y:4}}),ke("Sticky","Sticky","A type of Widget. Currently the only type available for the prototype. It accepts a text input. Future versions will accept and automatically convert image urls, dates, links, and todo lists.",{24:{w:8,h:5,x:0,y:6}}),ke("Sticky","Add Widget","You may add more widgets using the widgets menu in the bottom right corner.",{24:{w:8,h:5,x:0,y:8}}),ke("Sticky","Delete Widgets","You can remove widgets by activating the trash from the widgets menu and clicking the trash icon within each widget to be removed.",{24:{w:8,h:5,x:16,y:8}});class Se extends ge{constructor(e){super(),fe(this,e,ze,Te,o,[])}}function Ee(t){var n,r;return{c(){(n=k("button")).innerHTML='<img src="/images/arrowRightIcon.svg" alt="next">',E(n,"class","svelte-1bwa45r"),r=S(n,"click",t.right)},m(e,t){$(e,n,t)},p:e,i:e,o:e,d(e){e&&w(n),r()}}}function Pe(e){const t=j();return{right:()=>{t("right")}}}class Oe extends ge{constructor(e){super(),fe(this,e,Pe,Ee,o,[])}}function Le(e){var t,n,r;return{c(){E(t=k("img"),"class",n="cancel "+e.cancelPos+" svelte-1gmxc8e"),E(t,"src","/images/cancelIcon.svg"),E(t,"alt","x"),r=S(t,"click",e.trash)},m(e,n){$(e,t,n)},p(e,r){e.cancelPos&&n!==(n="cancel "+r.cancelPos+" svelte-1gmxc8e")&&E(t,"class",n)},d(e){e&&w(t),r()}}}function Me(t){var n,r,i,s,a,o=t.active&&Le(t);return{c(){n=k("button"),o&&o.c(),r=T(),E(i=k("img"),"src","/images/TrashIcon.svg"),E(i,"alt","-"),E(n,"class",s=h(t.active?"active":"")+" svelte-1gmxc8e"),a=S(n,"click",t.trash)},m(e,t){$(e,n,t),o&&o.m(n,null),b(n,r),b(n,i)},p(e,t){t.active?o?o.p(e,t):((o=Le(t)).c(),o.m(n,r)):o&&(o.d(1),o=null),e.active&&s!==(s=h(t.active?"active":"")+" svelte-1gmxc8e")&&E(n,"class",s)},i:e,o:e,d(e){e&&w(n),o&&o.d(),a()}}}function Ie(e,t,n){let{active:r=!1,cancelPos:i="top"}=t;const s=j();return e.$set=e=>{"active"in e&&n("active",r=e.active),"cancelPos"in e&&n("cancelPos",i=e.cancelPos)},{active:r,cancelPos:i,trash:()=>{s("trash",{active:!r})}}}class De extends ge{constructor(e){super(),fe(this,e,Ie,Me,o,["active","cancelPos"])}}function Re(t){var n,r,i,s;return{c(){n=k("button"),E(r=k("img"),"src","/images/addIcon.svg"),E(r,"alt","+"),E(n,"class",i=h(t.active?"active":"")+" svelte-9b9csn"),s=S(n,"click",t.add)},m(e,t){$(e,n,t),b(n,r)},p(e,t){e.active&&i!==(i=h(t.active?"active":"")+" svelte-9b9csn")&&E(n,"class",i)},i:e,o:e,d(e){e&&w(n),s()}}}function Ce(e,t,n){let{active:r}=t;const i=j();return e.$set=e=>{"active"in e&&n("active",r=e.active)},{active:r,add:()=>i("add")}}class We extends ge{constructor(e){super(),fe(this,e,Ce,Re,o,["active"])}}function Ne(e,t=!1){this.isOpen=t,this.update=e,this.close=this.close.bind(this),this.open=this.open.bind(this),this.toggle=this.toggle.bind(this)}function He(e){"Enter"===e.key&&e.target.blur()}function qe(e,t,n){const r=Object.create(e);return r.dashIndex=t[n],r.i=n,r}function Fe(e,t,n){const r=Object.create(e);return r.dash=t[n],r.i=n,r}function je(t){var n;return{c(){E(n=k("div"),"class","carousel svelte-zdbq2n")},m(e,t){$(e,n,t)},p:e,d(e){e&&w(n)}}}function Ue(e){var t;function n(e){return e.trashIsOpen?Be:Ze}var r=n(e),i=r(e);return{c(){i.c(),t=z()},m(e,n){i.m(e,n),$(e,t,n)},p(e,s){r===(r=n(s))&&i?i.p(e,s):(i.d(1),(i=r(s))&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&w(t)}}}function Ze(e){for(var t,n,r=e.navIndexArray,i=[],s=0;s<r.length;s+=1)i[s]=Ke(qe(e,r,s));return{c(){t=k("div");for(var r=0;r<i.length;r+=1)i[r].c();E(t,"class",n="carousel "+e.animationClass+" svelte-zdbq2n")},m(e,n){$(e,t,n);for(var r=0;r<i.length;r+=1)i[r].m(t,null)},p(e,s){if(e.navIndexArray||e.$_activeDashIndex||e.editingTitle||e.$_title||e.dashboards||e.get){r=s.navIndexArray;for(var a=0;a<r.length;a+=1){const n=qe(s,r,a);i[a]?i[a].p(e,n):(i[a]=Ke(n),i[a].c(),i[a].m(t,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=r.length}e.animationClass&&n!==(n="carousel "+s.animationClass+" svelte-zdbq2n")&&E(t,"class",n)},d(e){e&&w(t),_(i,e)}}}function Be(e){for(var t,n=xe,r=[],i=0;i<n.length;i+=1)r[i]=Je(Fe(e,n,i));return{c(){t=k("div");for(var e=0;e<r.length;e+=1)r[e].c();E(t,"class","trashMenu svelte-zdbq2n")},m(e,n){$(e,t,n);for(var i=0;i<r.length;i+=1)r[i].m(t,null)},p(e,i){if(e.get||e.dashboards){n=xe;for(var s=0;s<n.length;s+=1){const a=Fe(i,n,s);r[s]?r[s].p(e,a):(r[s]=Je(a),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(e){e&&w(t),_(r,e)}}}function Ye(e){var t,n,r,i=xe[e.dashIndex]?c(xe[e.dashIndex]._title):"";function s(){return e.click_handler_2(e)}return{c(){t=k("button"),n=A(i),E(t,"class","nav-button-"+e.i+" svelte-zdbq2n"),r=S(t,"click",s)},m(e,r){$(e,t,r),b(t,n)},p(t,r){e=r,t.navIndexArray&&i!==(i=xe[e.dashIndex]?c(xe[e.dashIndex]._title):"")&&P(n,i)},d(e){e&&w(t),r()}}}function Ge(e){var t,n;function r(e){return e.editingTitle?Ve:Xe}var i=r(e),s=i(e);return{c(){t=k("div"),s.c(),n=T(),E(t,"class","current svelte-zdbq2n")},m(e,r){$(e,t,r),s.m(t,null),b(t,n)},p(e,a){i===(i=r(a))&&s?s.p(e,a):(s.d(1),(s=i(a))&&(s.c(),s.m(t,n)))},d(e){e&&w(t),s.d()}}}function Xe(e){var t,n,r;return{c(){t=k("button"),n=A(e.$_title),E(t,"class","active-dash-title svelte-zdbq2n"),r=S(t,"click",e.click_handler_1)},m(e,r){$(e,t,r),b(t,n)},p(e,t){e.$_title&&P(n,t.$_title)},d(e){e&&w(t),r()}}}function Ve(e){var t,n;return{c(){E(t=k("input"),"type","text"),t.autofocus=!0,E(t,"class","svelte-zdbq2n"),n=[S(t,"input",e.input_input_handler),S(t,"blur",e.closeEditingTitle),S(t,"keypress",He)]},m(n,r){$(n,t,r),t.value=e.$_title,t.focus()},p(e,n){e.$_title&&t.value!==n.$_title&&(t.value=n.$_title)},d(e){e&&w(t),s(n)}}}function Ke(e){var t;function n(e){return e.dashIndex===e.$_activeDashIndex?Ge:Ye}var r=n(e),i=r(e);return{c(){i.c(),t=z()},m(e,n){i.m(e,n),$(e,t,n)},p(e,s){r===(r=n(s))&&i?i.p(e,s):(i.d(1),(i=r(s))&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&w(t)}}}function Je(e){var t,n,r,i,s,a,o,l=c(e.dash._title);function u(){return e.click_handler(e)}return{c(){t=k("button"),n=k("h3"),r=A(l),i=T(),s=k("img"),a=T(),E(n,"class","svelte-zdbq2n"),E(s,"src","/images/trashIcon.svg"),E(s,"alt","-"),E(s,"class","svelte-zdbq2n"),E(t,"class","svelte-zdbq2n"),o=S(t,"click",u)},m(e,o){$(e,t,o),b(t,n),b(n,r),b(t,i),b(t,s),b(t,a)},p(t,n){e=n},d(e){e&&w(t),o()}}}function Qe(e){var t,n,r,i,s,a,o,l=new Se({});l.$on("left",e.left_handler);var c=new De({props:{active:e.trashIsOpen,cancelPos:"right"}});function u(e){return xe.length>0?Ue:je}c.$on("trash",e.trash.toggle);var d=u(),h=d(e),p=new We({});p.$on("add",e.addNewDash);var f=new Oe({});return f.$on("right",e.right_handler),{c(){t=k("nav"),l.$$.fragment.c(),n=T(),c.$$.fragment.c(),r=T(),i=k("div"),h.c(),s=T(),p.$$.fragment.c(),a=T(),f.$$.fragment.c(),E(i,"class","container svelte-zdbq2n"),E(t,"class","svelte-zdbq2n")},m(e,u){$(e,t,u),de(l,t,null),b(t,n),de(c,t,null),b(t,r),b(t,i),h.m(i,null),b(t,s),de(p,t,null),b(t,a),de(f,t,null),o=!0},p(e,t){var n={};e.trashIsOpen&&(n.active=t.trashIsOpen),c.$set(n),d===(d=u())&&h?h.p(e,t):(h.d(1),(h=d(t))&&(h.c(),h.m(i,null)))},i(e){o||(se(l.$$.fragment,e),se(c.$$.fragment,e),se(p.$$.fragment,e),se(f.$$.fragment,e),o=!0)},o(e){ae(l.$$.fragment,e),ae(c.$$.fragment,e),ae(p.$$.fragment,e),ae(f.$$.fragment,e),o=!1},d(e){e&&w(t),he(l),he(c),h.d(),he(p),he(f)}}}function et(t,n,r){let i,s,a=e;u(t,ye,e=>{i=e,r("$_activeDashIndex",i)}),t.$$.on_destroy.push(()=>a());const o=j();let c=!1;const d=new Ne(e=>{const t=c=e;return r("trashIsOpen",c),t});let h=!1;let p="";const f=e=>{const t=(xe.length+i+e)%xe.length;0!==e&&t!==i&&(o("changingDash"),r("animationClass",p=e>0?"forward-animation":"backward-animation"),setTimeout(()=>{be(t),r("animationClass",p="")},500))};let g=i;const m=e=>{Ae(e),be((xe.length+i-1)%xe.length)};let v,x;return t.$$.update=(e={$_activeDashIndex:1})=>{e.$_activeDashIndex&&r("navIndexArray",v=(e=>{let t=[];for(let n=0;n<7;n++)if(xe.length<5)t.push(e+n-3);else{const r=(xe.length+e+n-3)%xe.length;t.push(r)}return t})(i)),e.$_activeDashIndex&&(x=xe[i]?xe[i]._title:ve(""),a(),a=l(x,e=>{s=e,r("$_title",s)}),r("_title",x))},{trashIsOpen:c,trash:d,editingTitle:h,animationClass:p,setActiveDash:f,addNewDash:()=>{g=i,_e(""),r("editingTitle",h=!0),be(xe.length-1)},closeEditingTitle:()=>{r("editingTitle",h=!1),""===event.target.value&&(Ae(xe.length-1),be(g))},deleteDash:m,navIndexArray:v,$_activeDashIndex:i,_title:x,$_title:s,left_handler:function(){return f(-1)},click_handler:function({i:e}){return m(e)},input_input_handler:function(){x.set(this.value)},click_handler_1:function(){const e=h=!0;return r("editingTitle",h),e},click_handler_2:function({i:e}){return f(e>3?1:-1)},right_handler:function(){return f(1)}}}Ne.prototype.close=function(){setTimeout(()=>{this.isOpen&&(this.isOpen=!1,this.update(this.isOpen))},0),window.removeEventListener("click",this.close,{capture:!0})},Ne.prototype.open=function(){this.isOpen=!0,window.addEventListener("click",this.close,{capture:!0}),this.update(this.isOpen)},Ne.prototype.toggle=function(){this.isOpen?this.close():this.open()};class tt extends ge{constructor(e){super(),fe(this,e,et,Qe,o,[])}}function nt(e){return--e*e*e*e*e+1}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function rt(e,t){return e(t={exports:{}},t.exports),t.exports}var it=rt((function(e){function t(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1}}e.exports={defaults:{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,xhtml:!1},getDefaults:t,changeDefaults:function(t){e.exports.defaults=t}}}));it.defaults,it.getDefaults,it.changeDefaults;const st=/[&<>"']/,at=/[&<>"']/g,ot=/[<>"']|&(?!#?\w+;)/,lt=/[<>"']|&(?!#?\w+;)/g,ct={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ut=e=>ct[e];const dt=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function ht(e){return e.replace(dt,(e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}const pt=/(^|[^\[])\^/g;const ft=/[^\w:]/g,gt=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;const mt={},vt=/^[^:]+:\/*[^/]*$/,xt=/^([^:]+:)[\s\S]*$/,yt=/^([^:]+:\/*[^/]*)[\s\S]*$/;function bt(e,t){mt[" "+e]||(vt.test(e)?mt[" "+e]=e+"/":mt[" "+e]=$t(e,"/",!0));const n=-1===(e=mt[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(xt,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(yt,"$1")+t:e+t}function $t(e,t,n){const r=e.length;if(0===r)return"";let i=0;for(;i<r;){const s=e.charAt(r-i-1);if(s!==t||n){if(s===t||!n)break;i++}else i++}return e.substr(0,r-i)}var wt={escape:function(e,t){if(t){if(st.test(e))return e.replace(at,ut)}else if(ot.test(e))return e.replace(lt,ut);return e},unescape:ht,edit:function(e,t){e=e.source||e,t=t||"";const n={replace:(t,r)=>(r=(r=r.source||r).replace(pt,"$1"),e=e.replace(t,r),n),getRegex:()=>new RegExp(e,t)};return n},cleanUrl:function(e,t,n){if(e){let e;try{e=decodeURIComponent(ht(n)).replace(ft,"").toLowerCase()}catch(e){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!gt.test(n)&&(n=bt(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n},resolveUrl:bt,noopTest:{exec:function(){}},merge:function(e){let t,n,r=1;for(;r<arguments.length;r++)for(n in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},splitCells:function(e,t){const n=e.replace(/\|/g,(e,t,n)=>{let r=!1,i=t;for(;--i>=0&&"\\"===n[i];)r=!r;return r?"|":" |"}).split(/ \|/);let r=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n},rtrim:$t,findClosingBracket:function(e,t){if(-1===e.indexOf(t[1]))return-1;const n=e.length;let r=0,i=0;for(;i<n;i++)if("\\"===e[i])i++;else if(e[i]===t[0])r++;else if(e[i]===t[1]&&(r--,r<0))return i;return-1},checkSanitizeDeprecation:function(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}};const{noopTest:_t,edit:kt,merge:At}=wt,Tt={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}|~{3,})([^`~\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6}) +([^\n]*?)(?: +#+)? *(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?\\?>\\n*|<![A-Z][\\s\\S]*?>\\n*|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>\\n*|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:_t,table:_t,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Tt.def=kt(Tt.def).replace("label",Tt._label).replace("title",Tt._title).getRegex(),Tt.bullet=/(?:[*+-]|\d{1,9}\.)/,Tt.item=/^( *)(bull) ?[^\n]*(?:\n(?!\1bull ?)[^\n]*)*/,Tt.item=kt(Tt.item,"gm").replace(/bull/g,Tt.bullet).getRegex(),Tt.list=kt(Tt.list).replace(/bull/g,Tt.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Tt.def.source+")").getRegex(),Tt._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Tt._comment=/<!--(?!-?>)[\s\S]*?-->/,Tt.html=kt(Tt.html,"i").replace("comment",Tt._comment).replace("tag",Tt._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Tt.paragraph=kt(Tt._paragraph).replace("hr",Tt.hr).replace("heading"," {0,3}#{1,6} +").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}|~{3,})[^`\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",Tt._tag).getRegex(),Tt.blockquote=kt(Tt.blockquote).replace("paragraph",Tt.paragraph).getRegex(),Tt.normal=At({},Tt),Tt.gfm=At({},Tt.normal,{nptable:/^ *([^|\n ].*\|.*)\n *([-:]+ *\|[-| :]*)(?:\n((?:.*[^>\n ].*(?:\n|$))*)\n*|$)/,table:/^ *\|(.+)\n *\|?( *[-:]+[-| :]*)(?:\n((?: *[^>\n ].*(?:\n|$))*)\n*|$)/}),Tt.pedantic=At({},Tt.normal,{html:kt("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Tt._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *(?:#+ *)?(?:\n+|$)/,fences:_t,paragraph:kt(Tt.normal._paragraph).replace("hr",Tt.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Tt.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const zt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:_t,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,strong:/^__([^\s_])__(?!_)|^\*\*([^\s*])\*\*(?!\*)|^__([^\s][\s\S]*?[^\s])__(?!_)|^\*\*([^\s][\s\S]*?[^\s])\*\*(?!\*)/,em:/^_([^\s_])_(?!_)|^\*([^\s*<\[])\*(?!\*)|^_([^\s<][\s\S]*?[^\s_])_(?!_|[^\spunctuation])|^_([^\s_<][\s\S]*?[^\s])_(?!_|[^\spunctuation])|^\*([^\s<"][\s\S]*?[^\s\*])\*(?!\*|[^\spunctuation])|^\*([^\s*"<\[][\s\S]*?[^\s])\*(?!\*)/,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:_t,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n))|(?= {2,}\n))/,_punctuation:"!\"#$%&'()*+,\\-./:;<=>?@\\[^_{|}~"};zt.em=kt(zt.em).replace(/punctuation/g,zt._punctuation).getRegex(),zt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,zt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,zt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,zt.autolink=kt(zt.autolink).replace("scheme",zt._scheme).replace("email",zt._email).getRegex(),zt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,zt.tag=kt(zt.tag).replace("comment",Tt._comment).replace("attribute",zt._attribute).getRegex(),zt._label=/(?:\[[^\[\]]*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,zt._href=/<(?:\\[<>]?|[^\s<>\\])*>|[^\s\x00-\x1f]*/,zt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,zt.link=kt(zt.link).replace("label",zt._label).replace("href",zt._href).replace("title",zt._title).getRegex(),zt.reflink=kt(zt.reflink).replace("label",zt._label).getRegex(),zt.normal=At({},zt),zt.pedantic=At({},zt.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/,link:kt(/^!?\[(label)\]\((.*?)\)/).replace("label",zt._label).getRegex(),reflink:kt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",zt._label).getRegex()}),zt.gfm=At({},zt.normal,{escape:kt(zt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~+(?=\S)([\s\S]*?\S)~+/,text:/^(`+|[^`])(?:[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?= {2,}\n|[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),zt.gfm.url=kt(zt.gfm.url,"i").replace("email",zt.gfm._extended_email).getRegex(),zt.breaks=At({},zt.gfm,{br:kt(zt.br).replace("{2,}","*").getRegex(),text:kt(zt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var St={block:Tt,inline:zt};const{defaults:Et}=it,{block:Pt}=St,{rtrim:Ot,splitCells:Lt,escape:Mt}=wt;var It=class e{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Et,this.rules=Pt.normal,this.options.pedantic?this.rules=Pt.pedantic:this.options.gfm&&(this.rules=Pt.gfm)}static get rules(){return Pt}static lex(t,n){return new e(n).lex(t)}lex(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.token(e,!0)}token(e,t){let n,r,i,s,a,o,l,c,u,d,h,p,f,g,m,v;for(e=e.replace(/^ +$/gm,"");e;)if((i=this.rules.newline.exec(e))&&(e=e.substring(i[0].length),i[0].length>1&&this.tokens.push({type:"space"})),i=this.rules.code.exec(e)){const t=this.tokens[this.tokens.length-1];e=e.substring(i[0].length),t&&"paragraph"===t.type?t.text+="\n"+i[0].trimRight():(i=i[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",codeBlockStyle:"indented",text:this.options.pedantic?i:Ot(i,"\n")}))}else if(i=this.rules.fences.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"code",lang:i[2]?i[2].trim():i[2],text:i[3]||""});else if(i=this.rules.heading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:i[1].length,text:i[2]});else if((i=this.rules.nptable.exec(e))&&(o={type:"table",header:Lt(i[1].replace(/^ *| *\| *$/g,"")),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3]?i[3].replace(/\n$/,"").split("\n"):[]},o.header.length===o.align.length)){for(e=e.substring(i[0].length),h=0;h<o.align.length;h++)/^ *-+: *$/.test(o.align[h])?o.align[h]="right":/^ *:-+: *$/.test(o.align[h])?o.align[h]="center":/^ *:-+ *$/.test(o.align[h])?o.align[h]="left":o.align[h]=null;for(h=0;h<o.cells.length;h++)o.cells[h]=Lt(o.cells[h],o.header.length);this.tokens.push(o)}else if(i=this.rules.hr.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"hr"});else if(i=this.rules.blockquote.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"blockquote_start"}),i=i[0].replace(/^ *> ?/gm,""),this.token(i,t),this.tokens.push({type:"blockquote_end"});else if(i=this.rules.list.exec(e)){for(e=e.substring(i[0].length),s=i[2],g=s.length>1,l={type:"list_start",ordered:g,start:g?+s:"",loose:!1},this.tokens.push(l),i=i[0].match(this.rules.item),c=[],n=!1,f=i.length,h=0;h<f;h++)o=i[h],d=o.length,o=o.replace(/^ *([*+-]|\d+\.) */,""),~o.indexOf("\n ")&&(d-=o.length,o=this.options.pedantic?o.replace(/^ {1,4}/gm,""):o.replace(new RegExp("^ {1,"+d+"}","gm"),"")),h!==f-1&&(a=Pt.bullet.exec(i[h+1])[0],(s.length>1?1===a.length:a.length>1||this.options.smartLists&&a!==s)&&(e=i.slice(h+1).join("\n")+e,h=f-1)),r=n||/\n\n(?!\s*$)/.test(o),h!==f-1&&(n="\n"===o.charAt(o.length-1),r||(r=n)),r&&(l.loose=!0),m=/^\[[ xX]\] /.test(o),v=void 0,m&&(v=" "!==o[1],o=o.replace(/^\[[ xX]\] +/,"")),u={type:"list_item_start",task:m,checked:v,loose:r},c.push(u),this.tokens.push(u),this.token(o,!1),this.tokens.push({type:"list_item_end"});if(l.loose)for(f=c.length,h=0;h<f;h++)c[h].loose=!0;this.tokens.push({type:"list_end"})}else if(i=this.rules.html.exec(e))e=e.substring(i[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===i[1]||"script"===i[1]||"style"===i[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):Mt(i[0]):i[0]});else if(t&&(i=this.rules.def.exec(e)))e=e.substring(i[0].length),i[3]&&(i[3]=i[3].substring(1,i[3].length-1)),p=i[1].toLowerCase().replace(/\s+/g," "),this.tokens.links[p]||(this.tokens.links[p]={href:i[2],title:i[3]});else if((i=this.rules.table.exec(e))&&(o={type:"table",header:Lt(i[1].replace(/^ *| *\| *$/g,"")),align:i[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:i[3]?i[3].replace(/\n$/,"").split("\n"):[]},o.header.length===o.align.length)){for(e=e.substring(i[0].length),h=0;h<o.align.length;h++)/^ *-+: *$/.test(o.align[h])?o.align[h]="right":/^ *:-+: *$/.test(o.align[h])?o.align[h]="center":/^ *:-+ *$/.test(o.align[h])?o.align[h]="left":o.align[h]=null;for(h=0;h<o.cells.length;h++)o.cells[h]=Lt(o.cells[h].replace(/^ *\| *| *\| *$/g,""),o.header.length);this.tokens.push(o)}else if(i=this.rules.lheading.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"heading",depth:"="===i[2].charAt(0)?1:2,text:i[1]});else if(t&&(i=this.rules.paragraph.exec(e)))e=e.substring(i[0].length),this.tokens.push({type:"paragraph",text:"\n"===i[1].charAt(i[1].length-1)?i[1].slice(0,-1):i[1]});else if(i=this.rules.text.exec(e))e=e.substring(i[0].length),this.tokens.push({type:"text",text:i[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens}};const{defaults:Dt}=it,{cleanUrl:Rt,escape:Ct}=wt;var Wt=class{constructor(e){this.options=e||Dt}code(e,t,n){const r=(t||"").match(/\S*/)[0];if(this.options.highlight){const t=this.options.highlight(e,r);null!=t&&t!==e&&(n=!0,e=t)}return r?'<pre><code class="'+this.options.langPrefix+Ct(r,!0)+'">'+(n?e:Ct(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:Ct(e,!0))+"</code></pre>"}blockquote(e){return"<blockquote>\n"+e+"</blockquote>\n"}html(e){return e}heading(e,t,n,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,n){const r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"}listitem(e){return"<li>"+e+"</li>\n"}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>"+e+"</p>\n"}table(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return"<tr>\n"+e+"</tr>\n"}tablecell(e,t){const n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"}strong(e){return"<strong>"+e+"</strong>"}em(e){return"<em>"+e+"</em>"}codespan(e){return"<code>"+e+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>"+e+"</del>"}link(e,t,n){if(null===(e=Rt(this.options.sanitize,this.options.baseUrl,e)))return n;let r='<a href="'+Ct(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>",r}image(e,t,n){if(null===(e=Rt(this.options.sanitize,this.options.baseUrl,e)))return n;let r='<img src="'+e+'" alt="'+n+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">",r}text(e){return e}},Nt=class{constructor(){this.seen={}}slug(e){let t=e.toLowerCase().trim().replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-");if(this.seen.hasOwnProperty(t)){const e=t;do{this.seen[e]++,t=e+"-"+this.seen[e]}while(this.seen.hasOwnProperty(t))}return this.seen[t]=0,t}};const{defaults:Ht}=it,{inline:qt}=St,{findClosingBracket:Ft,escape:jt}=wt;var Ut=class e{constructor(e,t){if(this.options=t||Ht,this.links=e,this.rules=qt.normal,this.options.renderer=this.options.renderer||new Wt,this.renderer=this.options.renderer,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.pedantic?this.rules=qt.pedantic:this.options.gfm&&(this.options.breaks?this.rules=qt.breaks:this.rules=qt.gfm)}static get rules(){return qt}static output(t,n,r){return new e(n,r).output(t)}output(t){let n,r,i,s,a,o,l="";for(;t;)if(a=this.rules.escape.exec(t))t=t.substring(a[0].length),l+=jt(a[1]);else if(a=this.rules.tag.exec(t))!this.inLink&&/^<a /i.test(a[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(a[0])&&(this.inLink=!1),!this.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(a[0])?this.inRawBlock=!0:this.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(a[0])&&(this.inRawBlock=!1),t=t.substring(a[0].length),l+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(a[0]):jt(a[0]):a[0];else if(a=this.rules.link.exec(t)){const r=Ft(a[2],"()");if(r>-1){const e=(0===a[0].indexOf("!")?5:4)+a[1].length+r;a[2]=a[2].substring(0,r),a[0]=a[0].substring(0,e).trim(),a[3]=""}t=t.substring(a[0].length),this.inLink=!0,i=a[2],this.options.pedantic?(n=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i),n?(i=n[1],s=n[3]):s=""):s=a[3]?a[3].slice(1,-1):"",i=i.trim().replace(/^<([\s\S]*)>$/,"$1"),l+=this.outputLink(a,{href:e.escapes(i),title:e.escapes(s)}),this.inLink=!1}else if((a=this.rules.reflink.exec(t))||(a=this.rules.nolink.exec(t))){if(t=t.substring(a[0].length),n=(a[2]||a[1]).replace(/\s+/g," "),n=this.links[n.toLowerCase()],!n||!n.href){l+=a[0].charAt(0),t=a[0].substring(1)+t;continue}this.inLink=!0,l+=this.outputLink(a,n),this.inLink=!1}else if(a=this.rules.strong.exec(t))t=t.substring(a[0].length),l+=this.renderer.strong(this.output(a[4]||a[3]||a[2]||a[1]));else if(a=this.rules.em.exec(t))t=t.substring(a[0].length),l+=this.renderer.em(this.output(a[6]||a[5]||a[4]||a[3]||a[2]||a[1]));else if(a=this.rules.code.exec(t))t=t.substring(a[0].length),l+=this.renderer.codespan(jt(a[2].trim(),!0));else if(a=this.rules.br.exec(t))t=t.substring(a[0].length),l+=this.renderer.br();else if(a=this.rules.del.exec(t))t=t.substring(a[0].length),l+=this.renderer.del(this.output(a[1]));else if(a=this.rules.autolink.exec(t))t=t.substring(a[0].length),"@"===a[2]?(r=jt(this.mangle(a[1])),i="mailto:"+r):(r=jt(a[1]),i=r),l+=this.renderer.link(i,null,r);else if(this.inLink||!(a=this.rules.url.exec(t))){if(a=this.rules.text.exec(t))t=t.substring(a[0].length),this.inRawBlock?l+=this.renderer.text(this.options.sanitize?this.options.sanitizer?this.options.sanitizer(a[0]):jt(a[0]):a[0]):l+=this.renderer.text(jt(this.smartypants(a[0])));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}else{if("@"===a[2])r=jt(a[0]),i="mailto:"+r;else{do{o=a[0],a[0]=this.rules._backpedal.exec(a[0])[0]}while(o!==a[0]);r=jt(a[0]),i="www."===a[1]?"http://"+r:r}t=t.substring(a[0].length),l+=this.renderer.link(i,null,r)}return l}static escapes(t){return t?t.replace(e.rules._escapes,"$1"):t}outputLink(e,t){const n=t.href,r=t.title?jt(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,r,this.output(e[1])):this.renderer.image(n,r,jt(e[1]))}smartypants(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e}mangle(e){if(!this.options.mangle)return e;const t=e.length;let n,r="",i=0;for(;i<t;i++)n=e.charCodeAt(i),Math.random()>.5&&(n="x"+n.toString(16)),r+="&#"+n+";";return r}},Zt=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}};const{defaults:Bt}=it,{merge:Yt,unescape:Gt}=wt;var Xt=class e{constructor(e){this.tokens=[],this.token=null,this.options=e||Bt,this.options.renderer=this.options.renderer||new Wt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.slugger=new Nt}static parse(t,n){return new e(n).parse(t)}parse(e){this.inline=new Ut(e.links,this.options),this.inlineText=new Ut(e.links,Yt({},this.options,{renderer:new Zt})),this.tokens=e.reverse();let t="";for(;this.next();)t+=this.tok();return t}next(){return this.token=this.tokens.pop(),this.token}peek(){return this.tokens[this.tokens.length-1]||0}parseText(){let e=this.token.text;for(;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)}tok(){let e="";switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,Gt(this.inlineText.output(this.token.text)),this.slugger);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":{let t,n,r,i,s="";for(r="",t=0;t<this.token.header.length;t++)r+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(s+=this.renderer.tablerow(r),t=0;t<this.token.cells.length;t++){for(n=this.token.cells[t],r="",i=0;i<n.length;i++)r+=this.renderer.tablecell(this.inline.output(n[i]),{header:!1,align:this.token.align[i]});e+=this.renderer.tablerow(r)}return this.renderer.table(s,e)}case"blockquote_start":for(e="";"blockquote_end"!==this.next().type;)e+=this.tok();return this.renderer.blockquote(e);case"list_start":{e="";const t=this.token.ordered,n=this.token.start;for(;"list_end"!==this.next().type;)e+=this.tok();return this.renderer.list(e,t,n)}case"list_item_start":{e="";const t=this.token.loose,n=this.token.checked,r=this.token.task;if(this.token.task)if(t)if("text"===this.peek().type){const e=this.peek();e.text=this.renderer.checkbox(n)+" "+e.text}else this.tokens.push({type:"text",text:this.renderer.checkbox(n)});else e+=this.renderer.checkbox(n);for(;"list_item_end"!==this.next().type;)e+=t||"text"!==this.token.type?this.tok():this.parseText();return this.renderer.listitem(e,r,n)}case"html":return this.renderer.html(this.token.text);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText());default:{const e='Token with "'+this.token.type+'" type was not found.';if(!this.options.silent)throw new Error(e);console.log(e)}}}};const{merge:Vt,checkSanitizeDeprecation:Kt,escape:Jt}=wt,{getDefaults:Qt,changeDefaults:en,defaults:tn}=it;function nn(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(n||"function"==typeof t){n||(n=t,t=null),t=Vt({},nn.defaults,t||{}),Kt(t);const r=t.highlight;let i,s,a=0;try{i=It.lex(e,t)}catch(e){return n(e)}s=i.length;const o=function(e){if(e)return t.highlight=r,n(e);let s;try{s=Xt.parse(i,t)}catch(t){e=t}return t.highlight=r,e?n(e):n(null,s)};if(!r||r.length<3)return o();if(delete t.highlight,!s)return o();for(;a<i.length;a++)!function(e){"code"!==e.type?--s||o():r(e.text,e.lang,(function(t,n){return t?o(t):null==n||n===e.text?--s||o():(e.text=n,e.escaped=!0,void(--s||o()))}))}(i[a])}else try{return t=Vt({},nn.defaults,t||{}),Kt(t),Xt.parse(It.lex(e,t),t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||nn.defaults).silent)return"<p>An error occurred:</p><pre>"+Jt(e.message+"",!0)+"</pre>";throw e}}nn.options=nn.setOptions=function(e){return Vt(nn.defaults,e),en(nn.defaults),nn},nn.getDefaults=Qt,nn.defaults=tn,nn.Parser=Xt,nn.parser=Xt.parse,nn.Renderer=Wt,nn.TextRenderer=Zt,nn.Lexer=It,nn.lexer=It.lex,nn.InlineLexer=Ut,nn.inlineLexer=Ut.output,nn.Slugger=Nt,nn.parse=nn;var rn=nn;const sn=rt((function(e,t){e.exports=function(){var e=Object.hasOwnProperty,t=Object.setPrototypeOf,n=Object.isFrozen,r=Object.keys,i=Object.freeze,s=Object.seal,a="undefined"!=typeof Reflect&&Reflect,o=a.apply,l=a.construct;o||(o=function(e,t,n){return e.apply(t,n)}),i||(i=function(e){return e}),s||(s=function(e){return e}),l||(l=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))))});var c=_(Array.prototype.forEach),u=_(Array.prototype.indexOf),d=_(Array.prototype.join),h=_(Array.prototype.pop),p=_(Array.prototype.push),f=_(Array.prototype.slice),g=_(String.prototype.toLowerCase),m=_(String.prototype.match),v=_(String.prototype.replace),x=_(String.prototype.indexOf),y=_(String.prototype.trim),b=_(RegExp.prototype.test),$=k(RegExp),w=k(TypeError);function _(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return o(e,t,r)}}function k(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return l(e,n)}}function A(e,r){t&&t(e,null);for(var i=r.length;i--;){var s=r[i];if("string"==typeof s){var a=g(s);a!==s&&(n(r)||(r[i]=a),s=a)}e[s]=!0}return e}function T(t){var n={},r=void 0;for(r in t)o(e,t,[r])&&(n[r]=t[r]);return n}var z=i(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),S=i(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"]),E=i(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),P=i(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),O=i(["#text"]),L=i(["accept","action","align","alt","autocomplete","background","bgcolor","border","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","coords","crossorigin","datetime","default","dir","disabled","download","enctype","face","for","headers","height","hidden","high","href","hreflang","id","integrity","ismap","label","lang","list","loop","low","max","maxlength","media","method","min","minlength","multiple","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","type","usemap","valign","value","width","xmlns"]),M=i(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),I=i(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),D=i(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),R=s(/\{\{[\s\S]*|[\s\S]*\}\}/gm),C=s(/<%[\s\S]*|[\s\S]*%>/gm),W=s(/^data-[\-\w.\u00B7-\uFFFF]/),N=s(/^aria-[\-\w]+$/),H=s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),q=s(/^(?:\w+script|data):/i),F=s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g),j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function U(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var Z=function(){return"undefined"==typeof window?null:window},B=function(e,t){if("object"!==(void 0===e?"undefined":j(e))||"function"!=typeof e.createPolicy)return null;var n=null;t.currentScript&&t.currentScript.hasAttribute("data-tt-policy-suffix")&&(n=t.currentScript.getAttribute("data-tt-policy-suffix"));var r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z(),n=function(t){return e(t)};if(n.version="2.0.8",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var s=t.document,a=!1,o=!1,l=t.document,_=t.DocumentFragment,k=t.HTMLTemplateElement,Y=t.Node,G=t.NodeFilter,X=t.NamedNodeMap,V=void 0===X?t.NamedNodeMap||t.MozNamedAttrMap:X,K=t.Text,J=t.Comment,Q=t.DOMParser,ee=t.trustedTypes;if("function"==typeof k){var te=l.createElement("template");te.content&&te.content.ownerDocument&&(l=te.content.ownerDocument)}var ne=B(ee,s),re=ne?ne.createHTML(""):"",ie=l,se=ie.implementation,ae=ie.createNodeIterator,oe=ie.getElementsByTagName,le=ie.createDocumentFragment,ce=s.importNode,ue={};n.isSupported=se&&void 0!==se.createHTMLDocument&&9!==l.documentMode;var de=R,he=C,pe=W,fe=N,ge=q,me=F,ve=H,xe=null,ye=A({},[].concat(U(z),U(S),U(E),U(P),U(O))),be=null,$e=A({},[].concat(U(L),U(M),U(I),U(D))),we=null,_e=null,ke=!0,Ae=!0,Te=!1,ze=!1,Se=!1,Ee=!1,Pe=!1,Oe=!1,Le=!1,Me=!1,Ie=!1,De=!1,Re=!0,Ce=!0,We=!1,Ne={},He=A({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","plaintext","script","style","svg","template","thead","title","video","xmp"]),qe=A({},["audio","video","img","source","image"]),Fe=null,je=A({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),Ue=null,Ze=l.createElement("form"),Be=function(e){Ue&&Ue===e||(e&&"object"===(void 0===e?"undefined":j(e))||(e={}),xe="ALLOWED_TAGS"in e?A({},e.ALLOWED_TAGS):ye,be="ALLOWED_ATTR"in e?A({},e.ALLOWED_ATTR):$e,Fe="ADD_URI_SAFE_ATTR"in e?A(T(je),e.ADD_URI_SAFE_ATTR):je,we="FORBID_TAGS"in e?A({},e.FORBID_TAGS):{},_e="FORBID_ATTR"in e?A({},e.FORBID_ATTR):{},Ne="USE_PROFILES"in e&&e.USE_PROFILES,ke=!1!==e.ALLOW_ARIA_ATTR,Ae=!1!==e.ALLOW_DATA_ATTR,Te=e.ALLOW_UNKNOWN_PROTOCOLS||!1,ze=e.SAFE_FOR_JQUERY||!1,Se=e.SAFE_FOR_TEMPLATES||!1,Ee=e.WHOLE_DOCUMENT||!1,Le=e.RETURN_DOM||!1,Me=e.RETURN_DOM_FRAGMENT||!1,Ie=e.RETURN_DOM_IMPORT||!1,De=e.RETURN_TRUSTED_TYPE||!1,Oe=e.FORCE_BODY||!1,Re=!1!==e.SANITIZE_DOM,Ce=!1!==e.KEEP_CONTENT,We=e.IN_PLACE||!1,ve=e.ALLOWED_URI_REGEXP||ve,Se&&(Ae=!1),Me&&(Le=!0),Ne&&(xe=A({},[].concat(U(O))),be=[],!0===Ne.html&&(A(xe,z),A(be,L)),!0===Ne.svg&&(A(xe,S),A(be,M),A(be,D)),!0===Ne.svgFilters&&(A(xe,E),A(be,M),A(be,D)),!0===Ne.mathMl&&(A(xe,P),A(be,I),A(be,D))),e.ADD_TAGS&&(xe===ye&&(xe=T(xe)),A(xe,e.ADD_TAGS)),e.ADD_ATTR&&(be===$e&&(be=T(be)),A(be,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&A(Fe,e.ADD_URI_SAFE_ATTR),Ce&&(xe["#text"]=!0),Ee&&A(xe,["html","head","body"]),xe.table&&(A(xe,["tbody"]),delete we.tbody),i&&i(e),Ue=e)},Ye=function(e){p(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){e.outerHTML=re}},Ge=function(e,t){try{p(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){p(n.removed,{attribute:null,from:t})}t.removeAttribute(e)},Xe=function(e){var t=void 0,n=void 0;if(Oe)e="<remove></remove>"+e;else{var r=m(e,/^[\s]+/);n=r&&r[0]}var i=ne?ne.createHTML(e):e;if(a)try{t=(new Q).parseFromString(i,"text/html")}catch(e){}if(o&&A(we,["title"]),!t||!t.documentElement){var s=(t=se.createHTMLDocument("")).body;s.parentNode.removeChild(s.parentNode.firstElementChild),s.outerHTML=i}return e&&n&&t.body.insertBefore(l.createTextNode(n),t.body.childNodes[0]||null),oe.call(t,Ee?"html":"body")[0]};n.isSupported&&(function(){try{Xe('<svg><p><textarea><img src="</textarea><img src=x abc=1//">').querySelector("svg img")&&(a=!0)}catch(e){}}(),function(){try{var e=Xe("<x/><title>&lt;/title&gt;&lt;img&gt;");b(/<\/title/,e.querySelector("title").innerHTML)&&(o=!0)}catch(e){}}());var Ve=function(e){return ae.call(e.ownerDocument||e,e,G.SHOW_ELEMENT|G.SHOW_COMMENT|G.SHOW_TEXT,(function(){return G.FILTER_ACCEPT}),!1)},Ke=function(e){return!(e instanceof K||e instanceof J||"string"==typeof e.nodeName&&"string"==typeof e.textContent&&"function"==typeof e.removeChild&&e.attributes instanceof V&&"function"==typeof e.removeAttribute&&"function"==typeof e.setAttribute&&"string"==typeof e.namespaceURI)},Je=function(e){return"object"===(void 0===Y?"undefined":j(Y))?e instanceof Y:e&&"object"===(void 0===e?"undefined":j(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Qe=function(e,t,r){ue[e]&&c(ue[e],(function(e){e.call(n,t,r,Ue)}))},et=function(e){var t=void 0;if(Qe("beforeSanitizeElements",e,null),Ke(e))return Ye(e),!0;var r=g(e.nodeName);if(Qe("uponSanitizeElement",e,{tagName:r,allowedTags:xe}),("svg"===r||"math"===r)&&0!==e.querySelectorAll("p, br").length)return Ye(e),!0;if(!xe[r]||we[r]){if(Ce&&!He[r]&&"function"==typeof e.insertAdjacentHTML)try{var i=e.innerHTML;e.insertAdjacentHTML("AfterEnd",ne?ne.createHTML(i):i)}catch(e){}return Ye(e),!0}return"noscript"===r&&b(/<\/noscript/i,e.innerHTML)?(Ye(e),!0):"noembed"===r&&b(/<\/noembed/i,e.innerHTML)?(Ye(e),!0):(!ze||e.firstElementChild||e.content&&e.content.firstElementChild||!b(/</g,e.textContent)||(p(n.removed,{element:e.cloneNode()}),e.innerHTML?e.innerHTML=v(e.innerHTML,/</g,"&lt;"):e.innerHTML=v(e.textContent,/</g,"&lt;")),Se&&3===e.nodeType&&(t=e.textContent,t=v(t,de," "),t=v(t,he," "),e.textContent!==t&&(p(n.removed,{element:e.cloneNode()}),e.textContent=t)),Qe("afterSanitizeElements",e,null),!1)},tt=function(e,t,n){if(Re&&("id"===t||"name"===t)&&(n in l||n in Ze))return!1;if(Ae&&b(pe,t));else if(ke&&b(fe,t));else{if(!be[t]||_e[t])return!1;if(Fe[t]);else if(b(ve,v(n,me,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==x(n,"data:")||!qe[e])if(Te&&!b(ge,v(n,me,"")));else if(n)return!1}return!0},nt=function(e){var t=void 0,i=void 0,s=void 0,a=void 0,o=void 0;Qe("beforeSanitizeAttributes",e,null);var l=e.attributes;if(l){var c={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:be};for(o=l.length;o--;){var p=t=l[o],m=p.name,x=p.namespaceURI;if(i=y(t.value),s=g(m),c.attrName=s,c.attrValue=i,c.keepAttr=!0,c.forceKeepAttr=void 0,Qe("uponSanitizeAttribute",e,c),i=c.attrValue,!c.forceKeepAttr){if("name"===s&&"IMG"===e.nodeName&&l.id)a=l.id,l=f(l,[]),Ge("id",e),Ge(m,e),u(l,a)>o&&e.setAttribute("id",a.value);else{if("INPUT"===e.nodeName&&"type"===s&&"file"===i&&c.keepAttr&&(be[s]||!_e[s]))continue;"id"===m&&e.setAttribute(m,""),Ge(m,e)}if(c.keepAttr)if(ze&&b(/\/>/i,i))Ge(m,e);else if(b(/svg|math/i,e.namespaceURI)&&b($("</("+d(r(He),"|")+")","i"),i))Ge(m,e);else{Se&&(i=v(i,de," "),i=v(i,he," "));var w=e.nodeName.toLowerCase();if(tt(w,s,i))try{x?e.setAttributeNS(x,m,i):e.setAttribute(m,i),h(n.removed)}catch(e){}}}}Qe("afterSanitizeAttributes",e,null)}},rt=function e(t){var n=void 0,r=Ve(t);for(Qe("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)Qe("uponSanitizeShadowNode",n,null),et(n)||(n.content instanceof _&&e(n.content),nt(n));Qe("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e,r){var i=void 0,a=void 0,o=void 0,l=void 0,c=void 0;if(e||(e="\x3c!--\x3e"),"string"!=typeof e&&!Je(e)){if("function"!=typeof e.toString)throw w("toString is not a function");if("string"!=typeof(e=e.toString()))throw w("dirty is not a string, aborting")}if(!n.isSupported){if("object"===j(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(Je(e))return t.toStaticHTML(e.outerHTML)}return e}if(Pe||Be(r),n.removed=[],"string"==typeof e&&(We=!1),We);else if(e instanceof Y)1===(a=(i=Xe("\x3c!--\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===a.nodeName?i=a:"HTML"===a.nodeName?i=a:i.appendChild(a);else{if(!Le&&!Se&&!Ee&&De&&-1===e.indexOf("<"))return ne?ne.createHTML(e):e;if(!(i=Xe(e)))return Le?null:re}i&&Oe&&Ye(i.firstChild);for(var u=Ve(We?e:i);o=u.nextNode();)3===o.nodeType&&o===l||et(o)||(o.content instanceof _&&rt(o.content),nt(o),l=o);if(l=null,We)return e;if(Le){if(Me)for(c=le.call(i.ownerDocument);i.firstChild;)c.appendChild(i.firstChild);else c=i;return Ie&&(c=ce.call(s,c,!0)),c}var d=Ee?i.outerHTML:i.innerHTML;return Se&&(d=v(d,de," "),d=v(d,he," ")),ne&&De?ne.createHTML(d):d},n.setConfig=function(e){Be(e),Pe=!0},n.clearConfig=function(){Ue=null,Pe=!1},n.isValidAttribute=function(e,t,n){Ue||Be({});var r=g(e),i=g(t);return tt(r,i,n)},n.addHook=function(e,t){"function"==typeof t&&(ue[e]=ue[e]||[],p(ue[e],t))},n.removeHook=function(e){ue[e]&&h(ue[e])},n.removeHooks=function(e){ue[e]&&(ue[e]=[])},n.removeAllHooks=function(){ue={}},n}()}()}))(window);function an(e){return rn(sn.sanitize(e))}function on(e){var t,n,r=an(e.$_data);return{c(){E(t=k("article"),"class","svelte-1ovrvdo"),n=S(t,"click",e.click_handler)},m(e,n){$(e,t,n),t.innerHTML=r},p(e,n){e.$_data&&r!==(r=an(n.$_data))&&(t.innerHTML=r)},d(e){e&&w(t),n()}}}function ln(e){var t,n;return{c(){(t=k("textarea")).autofocus=!0,E(t,"class","svelte-1ovrvdo"),n=[S(t,"input",e.textarea_input_handler),S(t,"change",e.disableEditIfNoFocus),S(t,"blur",e.blur_handler)]},m(n,r){$(n,t,r),t.value=e.$_data,t.focus()},p(e,n){e.$_data&&(t.value=n.$_data)},d(e){e&&w(t),s(n)}}}function cn(t){var n;function r(e){return e.editing?ln:on}var i=r(t),s=i(t);return{c(){s.c(),n=z()},m(e,t){s.m(e,t),$(e,n,t)},p(e,t){i===(i=r(t))&&s?s.p(e,t):(s.d(1),(s=i(t))&&(s.c(),s.m(n.parentNode,n)))},i:e,o:e,d(e){s.d(e),e&&w(n)}}}function un(e,t,n){let r,{_data:i}=t;u(e,i,e=>{r=e,n("$_data",r)});let s=!0;return e.$set=e=>{"_data"in e&&n("_data",i=e._data)},{_data:i,editing:s,disableEditIfNoFocus:()=>{this!==document.activeElement&&n("editing",s=!1)},$_data:r,textarea_input_handler:function(){i.set(this.value)},blur_handler:function(){const e=s=!1;return n("editing",s),e},click_handler:function(){const e=s=!0;return n("editing",s),e}}}class dn extends ge{constructor(e){super(),fe(this,e,un,cn,o,["_data"])}}function hn(t){var n,r;return{c(){E(n=k("textarea"),"class","svelte-19wb5tu"),r=S(n,"input",t.textarea_input_handler)},m(e,r){$(e,n,r),n.value=t.$_data},p(e,t){e.$_data&&(n.value=t.$_data)},i:e,o:e,d(e){e&&w(n),r()}}}function pn(e){var t,n=new dn({props:{_data:e._data}});return{c(){n.$$.fragment.c()},m(e,r){de(n,e,r),t=!0},p(e,t){var r={};e._data&&(r._data=t._data),n.$set(r)},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ae(n.$$.fragment,e),t=!1},d(e){he(n,e)}}}function fn(e){var t,n,r,i,s=[pn,hn],a=[];function o(e){return"Text"===e.type?0:1}return t=o(e),n=a[t]=s[t](e),{c(){n.c(),r=z()},m(e,n){a[t].m(e,n),$(e,r,n),i=!0},p(e,i){var l=t;(t=o(i))===l?a[t].p(e,i):(re(),ae(a[l],1,1,()=>{a[l]=null}),ie(),(n=a[t])||(n=a[t]=s[t](i)).c(),se(n,1),n.m(r.parentNode,r))},i(e){i||(se(n),i=!0)},o(e){ae(n),i=!1},d(e){a[t].d(e),e&&w(r)}}}function gn(e,t,n){let r,i,{_data:s}=t;return u(e,s,e=>{r=e,n("$_data",r)}),q(()=>{var e;n("type",i=(e=r)&&e.length>0?"Text":void 0)}),e.$set=e=>{"_data"in e&&n("_data",s=e._data)},{_data:s,type:i,$_data:r,textarea_input_handler:function(){s.set(this.value)}}}class mn extends ge{constructor(e){super(),fe(this,e,gn,fn,o,["_data"])}}function vn(e){var t,n,r;return{c(){t=k("h2"),n=A(e.$_title),E(t,"class","svelte-1raairv"),r=S(t,"click",e.click_handler)},m(e,r){$(e,t,r),b(t,n)},p(e,t){e.$_title&&P(n,t.$_title)},d(e){e&&w(t),r()}}}function xn(e){var t,n;return{c(){E(t=k("input"),"type","text"),t.autofocus=!0,E(t,"class","svelte-1raairv"),n=[S(t,"input",e.input_input_handler),S(t,"blur",e.blur_handler),S(t,"keypress",He)]},m(n,r){$(n,t,r),t.value=e.$_title,t.focus()},p(e,n){e.$_title&&t.value!==n.$_title&&(t.value=n.$_title)},d(e){e&&w(t),s(n)}}}function yn(t){var n,r,i;return{c(){n=k("div"),r=A(t.type),i=A(" Widget type not yet implemented"),E(n,"class","svelte-1raairv")},m(e,t){$(e,n,t),b(n,r),b(n,i)},p:e,i:e,o:e,d(e){e&&w(n)}}}function bn(e){var t,n=new mn({props:{_data:e._data}});return{c(){n.$$.fragment.c()},m(e,r){de(n,e,r),t=!0},p(e,t){var r={};e._data&&(r._data=t._data),n.$set(r)},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ae(n.$$.fragment,e),t=!1},d(e){he(n,e)}}}function $n(e){var t,n,r,i,s,a,o,l;function c(e){return e.editingTitle?xn:vn}var u=c(e),d=u(e),h=[bn,yn],p=[];function f(e){return"Sticky"===e.type?0:1}r=f(e),i=p[r]=h[r](e);var g=new De({});return g.$on("trash",e.removeSelf),{c(){t=k("div"),d.c(),n=T(),i.c(),s=T(),a=k("span"),g.$$.fragment.c(),E(a,"class","svelte-1raairv"),E(t,"class","svelte-1raairv")},m(e,i){$(e,t,i),d.m(t,null),b(t,n),p[r].m(t,null),b(t,s),b(t,a),de(g,a,null),l=!0},p(e,a){u===(u=c(a))&&d?d.p(e,a):(d.d(1),(d=u(a))&&(d.c(),d.m(t,n)));var o=r;(r=f(a))===o?p[r].p(e,a):(re(),ae(p[o],1,1,()=>{p[o]=null}),ie(),(i=p[r])||(i=p[r]=h[r](a)).c(),se(i,1),i.m(t,s))},i(e){l||(se(i),se(g.$$.fragment,e),K(()=>{o||(o=le(t,wn,{duration:300,easing:nt},!0)),o.run(1)}),l=!0)},o(e){ae(i),ae(g.$$.fragment,e),o||(o=le(t,wn,{duration:300,easing:nt},!1)),o.run(0),l=!1},d(e){e&&w(t),d.d(),p[r].d(),he(g),e&&o&&o.end()}}}function wn(e,{delay:t=0,duration:n=400,easing:r=easing.cubicOut}){const i=getComputedStyle(e),s=+i.opacity;parseFloat(i.width);return{delay:t,duration:n,easing:r,css:e=>"overflow: hidden;"+`opacity: ${Math.min(20*e,1)*s};`+`transform: rotateY(${90*(e-1)}deg)`}}function _n(e,t,n){let r,{ref:i}=t,{_title:s,_data:a,type:o}=we(i);u(e,s,e=>{r=e,n("$_title",r)});let l=!1;return e.$set=e=>{"ref"in e&&n("ref",i=e.ref)},{ref:i,_title:s,_data:a,type:o,editingTitle:l,removeSelf:()=>{((e,t=c(ye))=>{try{xe[t].widgets.delete(e)&&xe[t]._widgetsCount.update(e=>e-1)}catch(e){}})(i)},$_title:r,input_input_handler:function(){s.set(this.value)},blur_handler:function(){const e=l=!1;return n("editingTitle",l),e},click_handler:function(){const e=l=!0;return n("editingTitle",l),e}}}class kn extends ge{constructor(e){super(),fe(this,e,_n,$n,o,["ref"])}}const An=(e,t=0)=>{let n;return function(...r){clearTimeout(n),n=setTimeout(()=>e.apply(this,r),t)}};function Tn(e){return{pageX:e.changedTouches?e.changedTouches[0].pageX:e.pageX,pageY:e.changedTouches?e.changedTouches[0].pageY:e.pageY}}function zn(e){return Math.max(...e.map(e=>e.y+e.h),1)}const Sn=(e,t,n,r)=>{var i=!1,s=n;if(e)for(var a=e.length-1;a>=0;a--){const[n,r]=e[a];if(t<=n){i=!0,s=r;break}}return i||(s=r),s},En=(e,t)=>Array.from(Array(e),()=>new Array(t));function Pn(e,t,n,r){let i=En(n,r);for(var s=0;s<e.length;s++){const n=e[s],{x:r,y:l,w:c,h:u,id:d,responsive:{valueW:h}}=n;if(-1===t.indexOf(d))for(var a=l;a<l+u;a++){const e=i[a];if(e)for(var o=r;o<r+(c-h);o++)e[o]=n}}return i}function On(e,t,n=zn(e)){let r=En(n,t);return e.forEach((n,i)=>{let s=e.slice(i+1).map(e=>e.id),a=function(e,t,n=[],r){const{w:i}=t;let s=t.responsive.valueW;for(var a=0;a<e.length;a++){const t=e[a];for(var o=0;o<t.length;o++){const e=t.findIndex(e=>void 0===e);if(-1!==e){for(var l=t.slice(e),c=l.length,u=0;u<l.length;u++)if(void 0!==l[u]){c=u;break}return s=Math.max(i-c,0),{y:a,x:e,responsive:{valueW:s}}}}}return s=Math.max(i-r,0),{y:zn(n),x:0,responsive:{valueW:s}}}(r,n,e,t);e=e.map(e=>e.id===n.id?{...n,...a}:e),r=Pn(e,s,zn(e),t)}),e}function Ln(e,t){const n=t.findIndex(t=>t.id===e);return{index:n,item:t[n]}}function Mn(e,t,n=[]){let r=e[0].length-(t.w-t.responsive.valueW);for(var i=0;i<e.length;i++){const n=e[i];for(var s=0;s<r+1;s++){if(n.slice(s,s+(t.w-t.responsive.valueW)).every(e=>void 0===e)){if(e.slice(i,i+t.h).every(e=>e.slice(s,s+(t.w-t.responsive.valueW)).every(e=>void 0===e)))return{y:i,x:s}}}}return{y:zn(n),x:0}}function In(e,t,n){return n.id===e.id?{...e,...t}:n}const Dn=(e,t,n)=>n.id===e.id?t:n;function Rn(e,t){return Math.max(zn(e),2)*t}const{window:Cn}=ce,Wn=({item:e,items:t,i:n})=>({item:t,index:t}),Nn=({item:e,items:t,i:n})=>({item:e,index:n});function Hn(e,t,n){const r=Object.create(e);return r.item=t[n],r.i=n,r}function qn(e){var t,n;return{c(){E(t=k("div"),"class","svlt-grid-resizer svelte-14tbpr7"),n=[S(t,"touchstart",e.resizeOnMouseDown.bind(this,e.item.id)),S(t,"mousedown",e.resizeOnMouseDown.bind(this,e.item.id))]},m(e,n){$(e,t,n)},p(t,n){e=n},d(e){e&&w(t),s(n)}}}function Fn(e,t){var r,i,a,o,l;const c=t.$$slots.default,u=function(e,t,n){if(e){const r=d(e,t,n);return e[0](r)}}(c,t,Nn);var h=t.item.resizable&&qn(t);return{key:e,first:null,c(){r=k("div"),u&&u.c(),i=T(),h&&h.c(),E(r,"class","svlt-grid-item svelte-14tbpr7"),E(r,"style",a=(t.useTransform?`transform: translate(${t.item.drag.dragging?t.item.drag.left:t.item.x*t.xPerPx+t.gap}px, ${t.item.drag.dragging?t.item.drag.top:t.item.y*t.yPerPx+t.gap}px);`:"")+";\n        "+(t.useTransform?"":`top: ${t.item.drag.dragging?t.item.drag.top:t.item.y*t.yPerPx+t.gap}px`)+";\n        "+(t.useTransform?"":`left: ${t.item.drag.dragging?t.item.drag.left:t.item.x*t.xPerPx+t.gap}px`)+";\n        width: "+(t.item.resize.resizing?t.item.resize.width:t.item.w*t.xPerPx-2*t.gap-t.item.responsive.valueW*t.xPerPx)+"px;\n        height: "+(t.item.resize.resizing?t.item.resize.height:t.item.h*t.yPerPx-2*t.gap)+"px;\n        z-index: "+(t.item.drag.dragging||t.item.resize.resizing?3:1)+";\n        opacity: "+(t.item.resize.resizing?.5:1)),l=[S(r,"mousedown",t.item.draggable?t.dragOnMouseDown.bind(this,t.item.id):null),S(r,"touchstart",t.item.draggable?t.dragOnMouseDown.bind(this,t.item.id):null)],this.first=r},l(e){u&&u.l(div_nodes)},m(e,t){$(e,r,t),u&&u.m(r,null),b(r,i),h&&h.m(r,null),o=!0},p(e,i){t=i,u&&u.p&&(e.$$scope||e.items)&&u.p(function(e,t,r,i){return e[1]?n({},n(t.$$scope.changed||{},e[1](i?i(r):{}))):t.$$scope.changed||{}}(c,t,e,Wn),d(c,t,Nn)),t.item.resizable?h||((h=qn(t)).c(),h.m(r,null)):h&&(h.d(1),h=null),(!o||e.useTransform||e.items||e.xPerPx||e.gap)&&a!==(a=(t.useTransform?`transform: translate(${t.item.drag.dragging?t.item.drag.left:t.item.x*t.xPerPx+t.gap}px, ${t.item.drag.dragging?t.item.drag.top:t.item.y*t.yPerPx+t.gap}px);`:"")+";\n        "+(t.useTransform?"":`top: ${t.item.drag.dragging?t.item.drag.top:t.item.y*t.yPerPx+t.gap}px`)+";\n        "+(t.useTransform?"":`left: ${t.item.drag.dragging?t.item.drag.left:t.item.x*t.xPerPx+t.gap}px`)+";\n        width: "+(t.item.resize.resizing?t.item.resize.width:t.item.w*t.xPerPx-2*t.gap-t.item.responsive.valueW*t.xPerPx)+"px;\n        height: "+(t.item.resize.resizing?t.item.resize.height:t.item.h*t.yPerPx-2*t.gap)+"px;\n        z-index: "+(t.item.drag.dragging||t.item.resize.resizing?3:1)+";\n        opacity: "+(t.item.resize.resizing?.5:1))&&E(r,"style",a)},i(e){o||(se(u,e),o=!0)},o(e){ae(u,e),o=!1},d(e){e&&w(r),u&&u.d(e),h&&h.d(),s(l)}}}function jn(e){var t,n;return{c(){E(t=k("div"),"class","svlt-grid-shadow svelte-14tbpr7"),E(t,"style",n=(e.useTransform?`transform: translate(${e.shadow.drag.dragging?e.shadow.drag.left:e.shadow.x*e.xPerPx+e.gap}px, ${e.shadow.drag.dragging?e.shadow.drag.top:e.shadow.y*e.yPerPx+e.gap}px);`:"")+";\n        "+(e.useTransform?"":`top: ${e.shadow.drag.dragging?e.shadow.drag.top:e.shadow.y*e.yPerPx+e.gap}px`)+";\n        "+(e.useTransform?"":`left: ${e.shadow.drag.dragging?e.shadow.drag.left:e.shadow.x*e.xPerPx+e.gap}px`)+";\n    width:"+(e.shadow.w*e.xPerPx-2*e.gap-e.shadow.responsive.valueW*e.xPerPx)+"px;\n    height:"+(e.shadow.h*e.yPerPx-2*e.gap)+"px;")},m(e,n){$(e,t,n)},p(e,r){(e.useTransform||e.shadow||e.xPerPx||e.gap)&&n!==(n=(r.useTransform?`transform: translate(${r.shadow.drag.dragging?r.shadow.drag.left:r.shadow.x*r.xPerPx+r.gap}px, ${r.shadow.drag.dragging?r.shadow.drag.top:r.shadow.y*r.yPerPx+r.gap}px);`:"")+";\n        "+(r.useTransform?"":`top: ${r.shadow.drag.dragging?r.shadow.drag.top:r.shadow.y*r.yPerPx+r.gap}px`)+";\n        "+(r.useTransform?"":`left: ${r.shadow.drag.dragging?r.shadow.drag.left:r.shadow.x*r.xPerPx+r.gap}px`)+";\n    width:"+(r.shadow.w*r.xPerPx-2*r.gap-r.shadow.responsive.valueW*r.xPerPx)+"px;\n    height:"+(r.shadow.h*r.yPerPx-2*r.gap)+"px;")&&E(t,"style",n)},d(e){e&&w(t)}}}function Un(e){var t,n,r,i,s=[],a=new Map,o=e.items;const l=e=>e.item.id;for(var c=0;c<o.length;c+=1){let t=Hn(e,o,c),n=l(t);a.set(n,s[c]=Fn(n,t))}var u=e.shadow.active&&jn(e);return{c(){for(t=k("div"),c=0;c<s.length;c+=1)s[c].c();n=T(),u&&u.c(),E(t,"class","svlt-grid-container svelte-14tbpr7"),O(t,"height",e.ch+"px"),L(t,"svlt-grid-transition",!e.focuesdItem),i=S(Cn,"resize",An(e.onResize,300))},m(i,a){for($(i,t,a),c=0;c<s.length;c+=1)s[c].m(t,null);b(t,n),u&&u.m(t,null),e.div_binding(t),r=!0},p(e,i){const o=i.items;re(),s=function(e,t,n,r,i,s,a,o,l,c,u,d){let h=e.length,p=s.length,f=h;const g={};for(;f--;)g[e[f].key]=f;const m=[],v=new Map,x=new Map;for(f=p;f--;){const e=d(i,s,f),o=n(e);let l=a.get(o);l?r&&l.p(t,e):(l=c(o,e),l.c()),v.set(o,m[f]=l),o in g&&x.set(o,Math.abs(f-g[o]))}const y=new Set,b=new Set;function $(e){se(e,1),e.m(o,u),a.set(e.key,e),u=e.first,p--}for(;h&&p;){const t=m[p-1],n=e[h-1],r=t.key,i=n.key;t===n?(u=t.first,h--,p--):v.has(i)?!a.has(r)||y.has(r)?$(t):b.has(i)?h--:x.get(r)>x.get(i)?(b.add(r),$(t)):(y.add(i),h--):(l(n,a),h--)}for(;h--;){const t=e[h];v.has(t.key)||l(t,a)}for(;p;)$(m[p-1]);return m}(s,e,l,1,i,o,a,t,ue,Fn,n,Hn),ie(),i.shadow.active?u?u.p(e,i):((u=jn(i)).c(),u.m(t,null)):u&&(u.d(1),u=null),r&&!e.ch||O(t,"height",i.ch+"px"),e.focuesdItem&&L(t,"svlt-grid-transition",!i.focuesdItem)},i(e){if(!r){for(var t=0;t<o.length;t+=1)se(s[t]);r=!0}},o(e){for(c=0;c<s.length;c+=1)ae(s[c]);r=!1},d(n){for(n&&w(t),c=0;c<s.length;c+=1)s[c].d();u&&u.d(),e.div_binding(null),i()}}}function Zn(e,t,n){let r,i,s,a,o,l,c,u,{useTransform:d=!1,items:h=[],cols:p=0,dragDebounceMs:f=350,gap:g=0,rowHeight:m=150,breakpoints:v,fillEmpty:x=!0}=t,y=m,b=p,$={w:0,h:0,x:0,y:0,active:!1,id:null,responsive:{valueW:0},min:{},max:{}},w=Rn(h,y);const _=j(),k=()=>document.documentElement.clientWidth;let A,T,z,S;function E(e){let{pageX:t,pageY:r}=Tn(e);t-=s.x,r-=s.y;const c=S+r-T,d=z+(t-A),{responsive:{valueW:p}}=i;let f=Math.round(d/a)+p;const{h:g=1,w:m=1}=i.min,{h:v,w:x=l-i.x+p}=i.max;f=Math.min(Math.max(f,m),x);let b=Math.round(c/y);v&&(b=Math.min(b,v)),b=Math.max(b,g),n("shadow",$={...$,w:f,h:b});let w=h[o];h[o]={...w,resize:{resizing:!0,width:d,height:c},w:f,h:b},n("items",h),u||M()}function P(e){e.stopPropagation();let t=h[o];h[o]={...t,resize:{resizing:!1,width:0,height:0}},n("items",h),window.removeEventListener("mousemove",E,!1),window.removeEventListener("touchmove",E,!1),window.removeEventListener("mouseup",P,!1),window.removeEventListener("touchend",P,!1),n("shadow",$={...$,w:0,h:0,x:0,y:0,active:!1,id:null,responsive:{valueW:0},min:{},max:{}}),C(),n("focuesdItem",i=void 0),u=!1}F(()=>{s=r.getBoundingClientRect();let e=Sn(v,k(),p,b);l=e,c=document.documentElement.clientWidth,v&&n("items",h=On(h,e)),n("xPerPx",a=s.width/e),_("mount",{cols:e,xPerPx:a,yPerPx:y})});let O=0,L=0;const M=An(C,f);let I={};function D(e){e.stopPropagation();let{pageX:t,pageY:r}=Tn(e);const c=r-s.y,u=t-s.x;let d=Math.round((u-O)/a),p=Math.round((c-L)/y);d=Math.max(Math.min(d,l-(i.w-i.responsive.valueW)),0),p=Math.max(p,0);let f=h[o];h[o]={...f,drag:{dragging:!0,top:c-L,left:u-O},x:d,y:p},n("items",h),n("shadow",$={...$,x:d,y:p}),M()}function R(e){window.removeEventListener("mousemove",D,!1),window.removeEventListener("touchmove",D,!1),window.removeEventListener("mouseup",R,!1),window.removeEventListener("touchend",R,!1);let t=h[o];h[o]={...t,drag:{dragging:!1,top:0,left:0}},n("items",h),O=0,L=0,n("shadow",$={...$,w:0,h:0,x:0,y:0,active:!1,id:null}),C(),n("focuesdItem",i=void 0)}function C(e){const t=h[o];let r=Sn(v,k(),p,b),i=function(e,t,n,r){let i=Pn(t,[e.id],zn(t),n);const s=function(e,t,n){const{w:r,h:i,x:s,y:a,responsive:{valueW:o}}=n,l=t.slice(a,a+i);let c=[];for(var u=0;u<l.length;u++){let e=l[u].slice(s,s+(r-o));c=[...c,...e.map(e=>e&&e.id).filter(e=>e)]}return[...c.filter((e,t)=>c.indexOf(e)==t)]}(0,i,e);let a=function(e,t){return t.filter(t=>-1!==e.indexOf(t.id))}(s,t);if(a.find(e=>e.static)&&r)return t.map(Dn.bind(null,e,r));i=Pn(t,s,zn(t),n);let o=t,l=s,c=[];return a.forEach(e=>{let r=Mn(i,e,o);if(c.push(e.id),r){o=o.map(In.bind(null,e,r));let s=l.filter(e=>-1===c.indexOf(e));i=Pn(o,s,zn(t),n)}}),o}(t,h,r,I);x&&i.forEach(e=>{e.id!==t.id&&(i=i.map(t=>t.id===e.id?{...t,...Mn(Pn(i,[e.id],zn(i),r),e,i)}:t))}),n("items",h=i),_("adjust",{focuesdItem:t})}q(()=>{i||(n("ch",w=Rn(h,y)),p!==b&&s&&(n("xPerPx",a=s.width/p),b=p))});let{$$slots:W={},$$scope:N}=t;return e.$set=e=>{"useTransform"in e&&n("useTransform",d=e.useTransform),"items"in e&&n("items",h=e.items),"cols"in e&&n("cols",p=e.cols),"dragDebounceMs"in e&&n("dragDebounceMs",f=e.dragDebounceMs),"gap"in e&&n("gap",g=e.gap),"rowHeight"in e&&n("rowHeight",m=e.rowHeight),"breakpoints"in e&&n("breakpoints",v=e.breakpoints),"fillEmpty"in e&&n("fillEmpty",x=e.fillEmpty),"$$scope"in e&&n("$$scope",N=e.$$scope)},{useTransform:d,items:h,cols:p,dragDebounceMs:f,gap:g,rowHeight:m,breakpoints:v,fillEmpty:x,container:r,focuesdItem:i,xPerPx:a,yPerPx:y,shadow:$,ch:w,onResize:function(){let e=document.documentElement.clientWidth;if(e!==c){c=e,s=r.getBoundingClientRect();let t=Sn(v,e,p,b);l=t,n("xPerPx",a=s.width/t),_("resize",{cols:t,xPerPx:a,yPerPx:y}),v&&n("items",h=On(h,t))}},resizeOnMouseDown:function(e,t){t.stopPropagation();let{pageX:r,pageY:c}=Tn(t);const{item:d,index:f}=Ln(e,h);o=f,n("focuesdItem",i=d),I={...d},u=d.h+d.y===zn(h),n("shadow",$={...$,...i,active:!0}),A=r-s.x,T=c-s.y,z=d.w*a-2*g-i.responsive.valueW*a,S=d.h*y-2*g,l=Sn(v,k(),p,b),window.addEventListener("mousemove",E,!1),window.addEventListener("touchmove",E,!1),window.addEventListener("mouseup",P,!1),window.addEventListener("touchend",P,!1)},dragOnMouseDown:function(e,t){t.stopPropagation();let{pageX:r,pageY:a}=Tn(t);const{item:c,index:u}=Ln(e,h);o=u,n("focuesdItem",i=c),I={...c},n("shadow",$={...$,...c,active:!0});let f,g,{currentTarget:m}=t;if(d){const{x:e,y:t}=(x=m.style.transform,y=(x=x.slice(10,-3)).indexOf("px, "),{x:+x.slice(0,y),y:+x.slice(y+4)});f=e,g=t}else f=m.offsetLeft,g=m.offsetTop;var x,y;r-=s.x,a-=s.y,O=r-f,L=a-g,l=Sn(v,k(),p,b),c?(window.addEventListener("mousemove",D,!1),window.addEventListener("touchmove",D,!1),window.addEventListener("mouseup",R,!1),window.addEventListener("touchend",R,!1)):console.warn("Can not get item")},div_binding:function(e){Z[e?"unshift":"push"](()=>{n("container",r=e)})},$$slots:W,$$scope:N}}class Bn extends ge{constructor(e){super(),fe(this,e,Zn,Un,o,["useTransform","items","cols","dragDebounceMs","gap","rowHeight","breakpoints","fillEmpty"])}}function Yn(e){return Math.max(...e.map(e=>e.y+e.h),1)}const Gn=(e,t)=>Array.from(Array(e),()=>new Array(t));function Xn(e,t,n,r){let i=Gn(n,r);for(var s=0;s<e.length;s++){const n=e[s],{x:r,y:l,w:c,h:u,id:d,responsive:{valueW:h}}=n;if(-1===t.indexOf(d))for(var a=l;a<l+u;a++){const e=i[a];if(e)for(var o=r;o<r+(c-h);o++)e[o]=n}}return i}function Vn(e,t,n=Yn(e)){let r=Gn(n,t);return e.forEach((n,i)=>{let s=e.slice(i+1).map(e=>e.id),a=function(e,t,n=[],r){const{w:i}=t;let s=t.responsive.valueW;for(var a=0;a<e.length;a++){const t=e[a];for(var o=0;o<t.length;o++){const e=t.findIndex(e=>void 0===e);if(-1!==e){for(var l=t.slice(e),c=l.length,u=0;u<l.length;u++)if(void 0!==l[u]){c=u;break}return s=Math.max(i-c,0),{y:a,x:e,responsive:{valueW:s}}}}}return s=Math.max(i-r,0),{y:Yn(n),x:0,responsive:{valueW:s}}}(r,n,e,t);e=e.map(e=>e.id===n.id?{...n,...a}:e),r=Xn(e,s,Yn(e),t)}),e}function Kn(e,t,n=[]){let r=e[0].length-(t.w-t.responsive.valueW);for(var i=0;i<e.length;i++){const n=e[i];for(var s=0;s<r+1;s++){if(n.slice(s,s+(t.w-t.responsive.valueW)).every(e=>void 0===e)){if(e.slice(i,i+t.h).every(e=>e.slice(s,s+(t.w-t.responsive.valueW)).every(e=>void 0===e)))return{y:i,x:s}}}}return{y:Yn(n),x:0}}function Jn(e,t,n){return n.id===e.id?{...e,...t}:n}const Qn=(e,t,n)=>n.id===e.id?t:n;const er={findSpaceForItem:(e,t,n)=>Kn(function(e,t=Yn(e),n){let r=Gn(t,n);for(var i=0;i<e.length;i++){const t=e[i],{x:n,y:o,w:l,h:c,responsive:{valueW:u}}=t;for(var s=o;s<o+c;s++){const e=r[s];for(var a=n;a<n+(l-u);a++)e[a]=t}}return r}(t,Yn(t),n),e,t),appendItem:(e,t,n)=>function(e,t,n,r){let i=Xn(t,[e.id],Yn(t),n);const s=function(e,t,n){const{w:r,h:i,x:s,y:a,responsive:{valueW:o}}=n,l=t.slice(a,a+i);let c=[];for(var u=0;u<l.length;u++){let e=l[u].slice(s,s+(r-o));c=[...c,...e.map(e=>e&&e.id).filter(e=>e)]}return[...c.filter((e,t)=>c.indexOf(e)==t)]}(0,i,e);let a=function(e,t){return t.filter(t=>-1!==e.indexOf(t.id))}(s,t);if(a.find(e=>e.static)&&r)return t.map(Qn.bind(null,e,r));i=Xn(t,s,Yn(t),n);let o=t,l=s,c=[];return a.forEach(e=>{let r=Kn(i,e,o);if(c.push(e.id),r){o=o.map(Jn.bind(null,e,r));let s=l.filter(e=>-1===c.indexOf(e));i=Xn(o,s,Yn(t),n)}}),o}(e,[...t,e],n),resizeItems:(e,t,n)=>Vn(e,t,n),item(e){return{drag:{top:null,left:null,dragging:!1},resize:{width:null,height:null,resizing:!1},responsive:{valueW:0},static:!1,resizable:!(t=e).static,draggable:!t.static,min:{...t.min},max:{...t.max},...t};var t}};function tr(e){var t,n=new kn({props:{ref:e.item.id}});return{c(){n.$$.fragment.c()},m(e,r){de(n,e,r),t=!0},p(e,t){var r={};e.item&&(r.ref=t.item.id),n.$set(r)},i(e){t||(se(n.$$.fragment,e),t=!0)},o(e){ae(n.$$.fragment,e),t=!1},d(e){he(n,e)}}}function nr(e){var t,n,r;function i(t){var r;e.grid_items_binding.call(null,t),n=!0,r=()=>n=!1,Y.push(r)}let s={fillEmpty:e.fillEmpty,items:e.items_arr,cols:e.$cols,rowHeight:50,gap:20,$$slots:{default:[tr,({item:e})=>({item:e})]},$$scope:{ctx:e}};void 0!==e.items_arr&&(s.items=e.items_arr);var a=new Bn({props:s});return Z.push(()=>{return t="items",n=i,void(-1!==(e=a).$$.props.indexOf(t)&&(e.$$.bound[t]=n,n(e.$$.ctx[t])));var e,t,n}),a.$on("adjust",e.storeWidgetSizeAndPos),a.$on("resize",e.handleWindowResize),a.$on("mount",e.handleWindowResize),{c(){t=k("div"),a.$$.fragment.c(),E(t,"id","gridContainer"),E(t,"class","grid-container svelte-2daa0q")},m(e,n){$(e,t,n),de(a,t,null),r=!0},p(e,t){var r={};e.fillEmpty&&(r.fillEmpty=t.fillEmpty),e.items_arr&&(r.items=t.items_arr),e.$cols&&(r.cols=t.$cols),e.$$scope&&(r.$$scope={changed:e,ctx:t}),!n&&e.items_arr&&(r.items=t.items_arr),a.$set(r)},i(e){r||(se(a.$$.fragment,e),r=!0)},o(e){ae(a.$$.fragment,e),r=!1},d(e){e&&w(t),he(a)}}}function rr(t,n,r){let i,s,a,o=e;u(t,ye,e=>{i=e,r("$_activeDashIndex",i)}),t.$$.on_destroy.push(()=>o());let{clearWidgets:c=!1}=n,d=[],h=[];const p=ve(40);u(t,p,e=>{a=e,r("$cols",a)});let f=!1;const g=()=>{const e=document.getElementById("gridContainer").clientWidth,t=Math.round(e/50);return t-t%2};let m={};F(()=>{h.forEach(e=>m[e.id]=e)});const v=e=>Math.max(...e.map(e=>e.x+e.w)),x=(e,t)=>{let n=[];return e.forEach((e,i)=>{const s=we(e);let{w:a,h:o,x:l,y:c}=s.sizeAndPos[(u=s.sizeAndPos,Object.keys(u).sort((e,n)=>Math.abs(t-e)-Math.abs(t-n))[0])];var u;a>t?(a=t,r("fillEmpty",f=!0)):r("fillEmpty",f=!1);let d=er.item({w:a,h:o,x:l,y:c,id:e});l+a>t&&(d={...d,...er.findSpaceForItem(d,n,t)}),n=er.appendItem(d,n,t)}),(e=>{const t=v(e),n=Math.floor((a-t)/2);return e.map(e=>({...e,x:e.x+n}))})(n)};let y;return t.$set=e=>{"clearWidgets"in e&&r("clearWidgets",c=e.clearWidgets)},t.$$.update=(e={$_activeDashIndex:1,clearWidgets:1,$_widgetsCount:1,widgets:1,$cols:1})=>{e.$_activeDashIndex&&(y=xe[i]?xe[i]._widgetsCount:ve(0),o(),o=l(y,e=>{s=e,r("$_widgetsCount",s)}),r("_widgetsCount",y)),e.clearWidgets&&c&&r("items_arr",h=[]),(e.$_widgetsCount||e.widgets||e.$_activeDashIndex||e.$cols)&&s!==d.length&&(r("widgets",d=Array.from(xe[i].widgets.keys())),r("items_arr",h=x(d,a)))},{clearWidgets:c,items_arr:h,cols:p,fillEmpty:f,storeWidgetSizeAndPos:e=>{const t=m.hasOwnProperty(e.id)?h.filter(e=>!(({x:e,y:t,w:n,h:r},{x:i,y:s,w:a,h:o})=>e===i&&t===s&&n===a&&r===o)(e,m[e.id])):h;if(t.length>0){const e=v(h);t.forEach(t=>{const{w:n,h:r,x:i,y:s}=t;((e,t,n)=>{try{$e().widgets.get(t).sizeAndPos[e]=n}catch(e){}})(e,t.id,{w:n,h:r,x:i,y:s})}),h.forEach(e=>m[e.id]=e)}},handleWindowResize:()=>{p.update(g),r("items_arr",h=x(d,a))},_widgetsCount:y,$cols:a,grid_items_binding:function(e){h=e,r("items_arr",h),r("clearWidgets",c),r("$_widgetsCount",s),r("widgets",d),r("$_activeDashIndex",i),r("$cols",a)}}}class ir extends ge{constructor(e){super(),fe(this,e,rr,nr,o,["clearWidgets"])}}function sr(e){var t,n,r,i,s;return{c(){t=k("img"),n=T(),r=k("div"),(i=k("button")).innerHTML='<h3 class="svelte-1nskkin">Sticky</h3> <img src="/images/addIcon.svg" alt="+">',E(t,"class","cancel svelte-1nskkin"),E(t,"src","/images/cancelIcon.svg"),E(t,"alt","x"),E(i,"class","svelte-1nskkin"),E(r,"class","menu svelte-1nskkin"),s=S(i,"click",e.click_handler)},m(e,s){$(e,t,s),$(e,n,s),$(e,r,s),b(r,i)},d(e){e&&(w(t),w(n),w(r)),s()}}}function ar(e){var t,n,r,i,s,a,o,l=new De({props:{active:e.trashActive}});l.$on("trash",e.toggleTrash),l.$on("trash",e.trash_handler);var c=e.menuIsOpen&&sr(e),u=new We({props:{active:e.menuIsOpen}});return u.$on("add",e.menu.toggle),{c(){t=k("div"),n=k("nav"),l.$$.fragment.c(),r=T(),c&&c.c(),i=T(),(s=k("h2")).textContent="Widgets",a=T(),u.$$.fragment.c(),E(s,"class","svelte-1nskkin"),E(n,"class","svelte-1nskkin"),E(t,"class","menuArea svelte-1nskkin")},m(e,d){$(e,t,d),b(t,n),de(l,n,null),b(n,r),c&&c.m(n,null),b(n,i),b(n,s),b(n,a),de(u,n,null),o=!0},p(e,t){var r={};e.trashActive&&(r.active=t.trashActive),l.$set(r),t.menuIsOpen?c||((c=sr(t)).c(),c.m(n,i)):c&&(c.d(1),c=null);var s={};e.menuIsOpen&&(s.active=t.menuIsOpen),u.$set(s)},i(e){o||(se(l.$$.fragment,e),se(u.$$.fragment,e),o=!0)},o(e){ae(l.$$.fragment,e),ae(u.$$.fragment,e),o=!1},d(e){e&&w(t),he(l),c&&c.d(),he(u)}}}function or(e,t,n){let r=!1;const i=new Ne(e=>{const t=r=e;return n("menuIsOpen",r),t});let s=!1;const a=e=>{ke(e)};return{menuIsOpen:r,menu:i,trashActive:s,toggleTrash:()=>{n("trashActive",s=!s)},add:a,trash_handler:function(t){!function(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(e=>e(t))}(e,t)},click_handler:function(){return a("Sticky")}}}class lr extends ge{constructor(e){super(),fe(this,e,or,ar,o,[])}}function cr(e){var t,n,r,i,s,a=new tt({});a.$on("changingDash",e.clearDash);var o=new ir({props:{clearWidgets:e.clearWidgets}}),l=new lr({});return l.$on("trash",e.activateTrash),{c(){t=k("main"),a.$$.fragment.c(),n=T(),o.$$.fragment.c(),r=T(),l.$$.fragment.c(),E(t,"class",i=h(e.trashActive?"trash":"")+" svelte-1fl743r")},m(e,i){$(e,t,i),de(a,t,null),b(t,n),de(o,t,null),b(t,r),de(l,t,null),s=!0},p(e,n){var r={};e.clearWidgets&&(r.clearWidgets=n.clearWidgets),o.$set(r),s&&!e.trashActive||i===(i=h(n.trashActive?"trash":"")+" svelte-1fl743r")||E(t,"class",i)},i(e){s||(se(a.$$.fragment,e),se(o.$$.fragment,e),se(l.$$.fragment,e),s=!0)},o(e){ae(a.$$.fragment,e),ae(o.$$.fragment,e),ae(l.$$.fragment,e),s=!1},d(e){e&&w(t),he(a),he(o),he(l)}}}function ur(e,t,n){let r=!1,i=!1;return{trashActive:r,clearWidgets:i,clearDash:e=>{n("clearWidgets",i=!0),setTimeout(()=>{const e=i=!1;return n("clearWidgets",i),e},0)},activateTrash:e=>{n("trashActive",r=e.detail.active)}}}return new class extends ge{constructor(e){super(),fe(this,e,ur,cr,o,[])}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
